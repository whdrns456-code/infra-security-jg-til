# 📅 TIL: 2026-02-09

## 📝 1. 오늘의 학습 주제 및 핵심 내용
- **주요 주제:**  Linux 시스템 관리 및 실습 요약 (2026-02-09)
- **핵심 개념 1:** 
- 아카이브 및 압축 (Archive & Compression)
파일을 하나로 묶고 용량을 줄이는 핵심 명령어
    - gzip (z): tar czvf 파일명.tar.gz 대상 (속도 빠름 / 압축률 낮음)
    - bzip2 (j): tar cjvf 파일명.tar.bz2 대상 (중간 성능)
    - xz (J): tar cJvf 파일명.tar.xz 대상 (속도 느림 / 압축률 최고 / 최신 표준)
 - 해제: tar xvf 파일명.tar.확장자 -C /지정경로

- 사용자 및 그룹 관리 (User & Group)
    - 핵심 설정 파일
    - /etc/passwd: 계정 기본 정보 (UID, GID, 홈 디렉토리, 쉘 등)
    - /etc/shadow: 암호화된 패스워드 및 만료 정책 (Unix Time 기준)
    - /etc/group: 그룹 정보 및 보조그룹 구성원 리스트
    - /etc/default/useradd: 사용자 생성 시 적용되는 기본값 설정

-  주요 명령어 및 옵션
    - -생성 (useradd)
    - -u [UID]: 사용자 번호 지정
    - -g [GID]: 기본 그룹 지정 (단! 존재하는 그룹만 가능)
    - -G [그룹명]: 보조 그룹 지정
    - -s [쉘]: 로그인 쉘 지정 (접속 차단 시 /sbin/nologin)

- 수정 (usermod)
    - -aG: 기존 보조그룹을 유지하며 추가 (가장 중요)(추가/누적)
    - -md: 홈 디렉토리 경로 변경 및 파일 실제 이동
    - L / -U: 계정 잠금(Lock) / 해제(Unlock)

- 삭제 (userdel)
    - -r: 홈 디렉토리와 메일함까지 완전 삭제

 실습 문제 및 정답 (Code)
[실습 1] 아카이브 및 압축
Bash
# 1. /usr/bin 디렉토리를 세 가지 방식으로 압축
tar czvf bin.tar.gz /usr/bin
tar cjvf bin.tar.bz2 /usr/bin
tar cJvf bin.tar.xz /usr/bin

  - xz (J): tar cJvf 파일명.tar.xz 대상 (속도 느림 / 압축률 최고 / 최신 표준) 내가 외울 것 

# 2. xz 파일을 /tmp 디렉토리에 바로 해제
tar xvf bin.tar.xz -C /tmp

[실습 2] 사용자 생성 및 수정
Bash
# 1. 특정 조건을 가진 유저 생성 (UID 2000, 보조그룹 wheel)
useradd -u 2000 -G wheel -c "user" -d /home/user -s /bin/sh user02

# 2. 보조그룹 추가 및 홈 디렉토리 실제 이동
usermod -aG adm -md /home/user02 user02

# 3. 암호 속성 변경 (최소 10일, 최대 100일 사용)
chage -m 10 -M 100 -W 10 user01
[실습 3] 확장 권한 설정
Bash
# 1. 디렉토리 생성 및 SetGID(2000) + 모든 권한 부여
mkdir /ptest
chmod 2777 /ptest

> **형식:** `계정명:비밀번호(x):UID:GID:코멘트:홈디렉토리:로그인쉘`

* **UID(User ID) 범위**
    * **0**: root (슈퍼유저)
    * **1 ~ 200**: 정적 할당된 시스템 사용자 계정
    * **201 ~ 999**: 파일 소유권이 없는 시스템 사용자 계정
    * **1000 ~**: 일반 사용자 계정 시작
* **로그인 쉘**: 접속이 필요 없는 계정(ftp, mail 등)은 `/sbin/nologin`으로 설정하여 보안 강화



### 📁 /etc/shadow (암호 및 보안 정책)
> **형식:** `계정:암호화된패스워드:last_chg:min:max:warn:inactive:expire:blank`

* **암호화 구조**: `$해시알고리즘$salt값$해시결과`
    * **Salt**: 동일 비밀번호라도 암호화 결과가 다르게 나오도록 하는 무작위 값
* **주요 필드 의미**
    * **last_chg**: 1970년 1월 1일(Unix Time)부터 계산된 마지막 암호 변경일
    * **min / max**: 암호 변경 가능 최소 기간 / 최대 사용 가능 기간
    * **inactive**: 암호 만료 후 계정 잠금 전까지의 유예 기간



### 📁 /etc/group (그룹 정보)
* **기본 그룹(Primary)**: 사용자 생성 시 자동 생성(1인 1그룹), GID 필드에 명시
* **보조 그룹(Secondary)**: 수동 추가 가입, 파일 공유 및 관리자 권한(`wheel`) 행사용

---

## 2. 권한 승격: su vs sudo

| **사용자 전환** | `su -` | 전환할 계정(주로 root)의 암호 필요. 환경변수까지 모두 가져옴 |
| **권한 대행** | `sudo` | **자신의 암호** 사용. `wheel` 그룹 소속 시에만 가능 (보안 권장) |
* **Tip**: `/etc/sudoers.d/` 디렉토리나 `visudo` 명령어를 통해 sudo 권한 그룹을 관리

---
## 3. 사용자 및 그룹 관리 명령어 세부 옵션

### 👤 사용자 관리 (useradd, usermod, userdel)
* **생성 (`useradd`)**
    * `-u`, `-g`, `-c`, `-d`, `-s`: UID, GID, 코멘트, 홈 경로, 쉘 지정
    * `-D`: 사용자 생성 시 적용되는 기본값(Default) 확인 및 수정
    * `-G`: 보조 그룹 지정 (예: `useradd -G wheel user06`)  

* **수정 (`usermod`)**
    * **`-aG` (중요)**: 기존 보조그룹을 유지하며 새 그룹 **추가** (절대 `-G`만 쓰지 말 것)
    * **`-md`**: 홈 디렉토리 경로를 바꾸면서 **실제 파일들까지 모두 이동**
    * `-L` / `-U`: 계정 잠금(Lock) 및 해제(Unlock)  

* **삭제 (`userdel`)**  
    * **`-r`**: 홈 디렉토리와 메일함까지 **완전 삭제** (찌꺼기 파일 제거)

### 👥 그룹 관리 (groupadd, groupmod)
* `groupadd -g [GID] [그룹명]`
* `groupmod -n [새이름] [옛이름]` / `groupmod -g [GID]`

### 🔐 암호 및 속성 관리 (passwd, chage)
* `passwd`: 비밀번호 설정 및 변경 (최소 8자리 권장)
* **`chage` (속성 변경)**
    * `-l`: 암호 설정 상태 확인
    * `-m / -M / -W`: 최소/최대 사용 일수 및 경고 기간 설정
    * **`-d 0`**: 다음 로그인 시 **무조건 암호를 변경**하도록 강제 초기화


1. -l (List): 암호 설정 상태 확인
예시: `chage -l user01`
출력 내용: 마지막 암호 변경일, 암호 만료일, 암호 비활성화 일수 등을 확인

2. -m (Min): 암호 변경 최소 일수 암호를 한 번 바꾼 후, 다시 바꾸기 위해 기다려야 하는 최소 기간
예시: `chage -m 5 user01`

3. -M (Max): 암호 사용 가능 최대 일수
예시: `chage -M 90 user01`

4. -W (Warn): 암호 만료 전 경고 일수
암호가 만료되기 몇 일 전부터 로그인 시 경고 메시지를 띄울지 결정
예시: `chage -W 7 user01`

5. -I (Inactive, 대문자 i): 암호 만료 후 유예 기간
예시: `chage -I 3 user01`

6. -E (Expire): 계정 만료일 설정
특정 날짜에 계정 자체를 아예 폐기할 때 사용 (YYYY-MM-DD 형식)
예시: `chage -E 2026-12-31 user01`

7. -d 0 (Last Day): 즉시 암호 변경 강제 (가장 많이 씀!)

예시: `chage -d 0 user01`

---
## 🔒 4. 확장 권한 및 소유권 프로세스

### 🛡️ 권한 확인 우선순위 (파일 접근 시)
1.  **소유자(Owner)인가?** (Yes → 소유자 권한 적용 / No → 다음단계)
2.  **소유그룹(Group)인가?** (Yes → 그룹 권한 적용 / No → 다음단계)
3.  **기타사용자(Others)인가?** (나머지 권한 적용)




---

## 💻 2. 실습 및 구현 내용
### ✅ 실습 목표
- 

### 🛠️ 구현 결과
```language
// 코드를 입력하세요
```

### ✨ 새롭게 알게 된 점
- 

---

## 🛠️ 3. 트러블슈팅 (Troubleshooting)
### 🔍 문제 발생 (Issue)
- **상황:** 
- **에러 메시지:** `Error`

### 💡 원인 분석 (Cause)
- 

### 🚀 해결 방법 (Solution)
- 

---

## 🧐 4. 오늘의 회고
### 💡 성찰 및 성장
- **습득 지식:** 
- **협업/소통:** 

### 🚀 Action Plan
- **부족한 점:** 
- **개선 방안:** 
- **내일의 목표:** 

---

## 📊 5. 메타인지 측정
### 🎯 오늘의 학습 점수
- **자기 객관화 점수:** ⭐ 0/10
- **이유:** 

---

### 🤝 공유 및 토론
- **참고 자료:** 
- **궁금한 점:** 