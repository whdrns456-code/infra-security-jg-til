# 📅 TIL: 2026-02-11 & 02-18 (systemd & Log 관리 심화)

## 📝 1. 오늘의 학습 주제 및 핵심 내용
- **주요 주제:** systemd 유닛 관리 및 리눅스 로깅 아키텍처
- **핵심 개념 1: systemd 유닛 및 방화벽 관리**
    - **유닛 경로:** `/usr/lib/systemd/system/`(원본), `/etc/systemd/system/`(관리자 설정/심볼릭 링크).
    - **상태(State):** `static`은 의존성에 의해 실행, `masked`는 강제 비활성화(심볼릭 링크를 `/dev/null`로 연결).
    - **방화벽:** `firewalld`와 `iptables` 동시 사용 금지. 충돌 방지를 위해 하나는 반드시 `mask` 처리 권장.
- **핵심 개념 2: 로그 관리 아키텍처 (Journald & Rsyslog)**
    - **systemd-journald:** 실시간 로그 수집기 (바이너리 형태, `journalctl`로 조회).
    - **rsyslogd:** 로그 저장소 (텍스트 파일 형태, `/var/log/`에 분류 저장).
- **핵심 개념 3: [심화] 의존성 및 영구 저장**
    - **Wants vs Requires:** 서비스 간의 결속력 차이. `Requires`는 종속 서비스 실패 시 메인 서비스도 중단됨.
    - **Journal 영구 저장:** `/var/log/journal` 디렉토리 생성 시 재부팅 후에도 저널 로그 유지 가능.

---

## 💻 2. 실습 및 구현 내용
### ✅ 실습 목표
- 커스텀 서비스 상태 확인 및 로그 필터링 실습
- 로그 발생기(`logger`)를 이용한 rsyslog 동작 검증

### 🛠️ 구현 결과
```bash
# 특정 서비스의 의존성 트리 확인
systemctl list-dependencies multi-user.target

# 에러 등급(3) 이상의 저널 로그만 실시간 모니터링
journalctl -p err -f

# 저널 로그 용량 제한 (디스크 관리)
journalctl --vacuum-size=500M